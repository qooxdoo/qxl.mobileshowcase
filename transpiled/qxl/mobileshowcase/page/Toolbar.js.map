{
  "version": 3,
  "sources": [
    "/home/travis/build/qooxdoo/qxl.mobileshowcase/source/class/qxl/mobileshowcase/page/Toolbar.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "qxl",
    "mobileshowcase",
    "page",
    "Abstract",
    "statics",
    "__toolbarButtonImages",
    "construct",
    "setTitle",
    "events",
    "members",
    "__toolbar",
    "__searchPopup",
    "__busyIndicator",
    "__areYouSurePopup",
    "__searchDialog",
    "__deleteDialog",
    "__goBackBtn",
    "__loadButton",
    "_initialize",
    "label",
    "ui",
    "mobile",
    "form",
    "Title",
    "getContent",
    "add",
    "toolbar",
    "ToolBar",
    "searchBtn",
    "Button",
    "addListener",
    "searchDialog",
    "__createSearchDialog",
    "show",
    "Toolbar",
    "setShow",
    "popup",
    "__createAreYouSurePopup",
    "__createSearchPopup",
    "lang",
    "Function",
    "delay",
    "hide",
    "deleteButton",
    "dialog",
    "Manager",
    "getInstance",
    "warning",
    "__processDelete",
    "index",
    "destroy",
    "anchor",
    "buttonsWidget",
    "container",
    "Composite",
    "layout",
    "HBox",
    "okButton",
    "cancelButton",
    "flex",
    "Popup",
    "attachedToWidget",
    "busyIndicator",
    "BusyIndicator",
    "popupWidget",
    "VBox",
    "searchField",
    "TextField",
    "evt",
    "getKeyIdentifier",
    "bind",
    "searchButton",
    "setHideOnBlockerTap",
    "setModal",
    "_stop"
  ],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;AAAAA,EAAAA,EAAE,CAACC,SAAH,CAAaC,oBAAb,CAAkCC,aAAlC;;AAAA;;;;;;;;;;;;;;;;;;AAkBA;;;;;AAIA;;;;;AAKAH,EAAAA,EAAE,CAACI,KAAH,CAASC,MAAT,CAAgB,iCAAhB,EACA;AACEC,IAAAA,MAAM,EAAGC,GAAG,CAACC,cAAJ,CAAmBC,IAAnB,CAAwBC,QADnC;AAIEC,IAAAA,OAAO,EAAG;AACRC,MAAAA,OAAqB,EAAE,CAAC,uCAAD,EAAyC,oCAAzC;AADf,KAJZ;AASEC,IAAAA,SAAS,EAAG,qBACZ;AACE,8DAAoB,KAApB;AACA,WAAKC,QAAL,CAAc,SAAd;AACD,KAbH;AAgBEC,IAAAA,MAAM,EACN;AACE;AACA,cAAS;AAFX,KAjBF;AAuBEC,IAAAA,OAAO,EACP;AAEE;;;AAGAC,MAAAA,OAAS,EAAG,IALd;AAMEC,MAAAA,OAAa,EAAE,IANjB;AAOEC,MAAAA,OAAe,EAAE,IAPnB;AAQEC,MAAAA,OAAiB,EAAE,IARrB;AASEC,MAAAA,OAAc,EAAE,IATlB;AAUEC,MAAAA,OAAc,EAAE,IAVlB;AAWEC,MAAAA,OAAW,EAAE,IAXf;AAYEC,MAAAA,OAAY,EAAE,IAZhB;AAeE;AACAC,MAAAA,WAAW,EAAG,uBACd;AACE;;AAEA,YAAIC,KAAK,GAAG,IAAI1B,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBC,KAAtB,CAA4B,QAA5B,CAAZ;AACA,aAAKC,UAAL,GAAkBC,GAAlB,CAAsBN,KAAtB;AAEA,YAAIO,OAAO,GAAG,KAAKhB,OAAL,GAAiB,IAAIjB,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaK,OAAb,CAAqBC,OAAzB,EAA/B;AACA,aAAKF,GAAL,CAASC,OAAT;AAEA,YAAIE,SAAS,GAAG,IAAInC,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaK,OAAb,CAAqBG,MAAzB,CAAgC,QAAhC,CAAhB;AACAD,QAAAA,SAAS,CAACE,WAAV,CAAsB,KAAtB,EAA6B,YAAW;AACtC,cAAIC,YAAY,GAAG,KAAKC,OAAL,EAAnB;;AACAD,UAAAA,YAAY,CAACE,IAAb;AACD,SAHD,EAGG,IAHH;AAKA,aAAKjB,OAAL,GAAmB,IAAIvB,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaK,OAAb,CAAqBG,MAAzB,CACjB,IADiB,EACX7B,GAAG,CAACC,cAAJ,CAAmBC,IAAnB,CAAwBgC,OAAxB,CAAgC7B,OAAhC,CAAsD,CAAtD,CADW,CAAnB;;AAGA,aAAKW,OAAL,CAAiBmB,OAAjB,CAAyB,MAAzB;;AAEC,aAAKnB,OAAL,CAAiBc,WAAjB,CAA6B,KAA7B,EAAoC,YAAU;AAC7C,cAAIM,KAAK,GAAG,KAAKC,QAAL,CAA8B,KAAKrB,OAAnC,CAAZ;;AACAoB,UAAAA,KAAK,CAACH,IAAN;AACD,SAHA,EAGE,IAHF;;AAKD,aAAKhB,OAAL,GAAoB,IAAIxB,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaK,OAAb,CAAqBG,MAAzB,CAClB,IADkB,EACZ7B,GAAG,CAACC,cAAJ,CAAmBC,IAAnB,CAAwBgC,OAAxB,CAAgC7B,OAAhC,CAAsD,CAAtD,CADY,CAApB;;AAGA,aAAKY,OAAL,CAAkBkB,OAAlB,CAA0B,MAA1B;;AAEA,aAAKlB,OAAL,CAAkBa,WAAlB,CAA8B,KAA9B,EAAqC,YAAU;AAC7C,cAAIM,KAAK,GAAG,KAAKE,QAAL,EAAZ;;AACAF,UAAAA,KAAK,CAACH,IAAN;AACAxC,UAAAA,EAAE,CAAC8C,IAAH,CAAQC,QAAR,CAAiBC,KAAjB,CAAuBL,KAAK,CAACM,IAA7B,EAAmC,IAAnC,EAAyCN,KAAzC;AACD,SAJD,EAIG,IAJH;;AAOA,YAAIO,YAAY,GAAG,IAAIlD,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaK,OAAb,CAAqBG,MAAzB,CAAgC,QAAhC,CAAnB;AACAc,QAAAA,YAAY,CAACb,WAAb,CAAyB,KAAzB,EAAgC,YAAU;AACxC,eAAKf,OAAL,GAAsBtB,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAauB,MAAb,CAAoBC,OAApB,CAA4BC,WAA5B,GAA0CC,OAA1C,CAAkD,UAAlD,EAA8D,eAA9D,EAA+E,KAAKC,QAApF,EAAqG,IAArG,EAA2G,CAAC,KAAD,EAAQ,IAAR,CAA3G,CAAtB;AACD,SAFD,EAEG,IAFH;AAIAtB,QAAAA,OAAO,CAACD,GAAR,CAAYG,SAAZ;AACAF,QAAAA,OAAO,CAACD,GAAR,CAAY,KAAKT,OAAjB;AACAU,QAAAA,OAAO,CAACD,GAAR,CAAY,KAAKR,OAAjB;AACAS,QAAAA,OAAO,CAACD,GAAR,CAAYkB,YAAZ;AACD,OA/DH;AAkEEK,MAAAA,QAAe,EAAG,kBAASC,KAAT,EAClB;AACE,YAAGA,KAAK,IAAE,CAAV,EAAa;AACX,eAAKlC,OAAL,CAAoBmC,OAApB;AACD,SAFD,MAEO;AACL,eAAKnC,OAAL,CAAoBmC,OAApB;AACD;AACF,OAzEH;;AA4EE;;;AAGAb,MAAAA,QAAuB,EAAG,kBAASc,MAAT,EAC1B;AACE,YAAG,KAAKtC,OAAR,EAA2B;AACzB,iBAAO,KAAKA,OAAZ;AACD;;AACD,YAAIuC,aAAa,GAAG,IAAI3D,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAagC,SAAb,CAAuBC,SAA3B,CAAqC,IAAI7D,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAakC,MAAb,CAAoBC,IAAxB,EAArC,CAApB;AAEA,YAAIC,QAAQ,GAAG,IAAIhE,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBO,MAAtB,CAA6B,KAA7B,CAAf;AACA,YAAI6B,YAAY,GAAG,IAAIjE,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBO,MAAtB,CAA6B,IAA7B,CAAnB;AAEAuB,QAAAA,aAAa,CAAC3B,GAAd,CAAkBgC,QAAlB,EAA4B;AAACE,UAAAA,IAAI,EAAC;AAAN,SAA5B;AACAP,QAAAA,aAAa,CAAC3B,GAAd,CAAkBiC,YAAlB,EAAgC;AAACC,UAAAA,IAAI,EAAC;AAAN,SAAhC;AAEAF,QAAAA,QAAQ,CAAC3B,WAAT,CAAqB,KAArB,EAA4B,YAAU;AACpC,eAAKjB,OAAL,CAAuB6B,IAAvB;AACD,SAFD,EAEG,IAFH;AAIAgB,QAAAA,YAAY,CAAC5B,WAAb,CAAyB,KAAzB,EAAgC,YAAU;AACxC,eAAKjB,OAAL,CAAuB6B,IAAvB;AACD,SAFD,EAEG,IAFH;AAIA,aAAK7B,OAAL,GAAyB,IAAIpB,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAauB,MAAb,CAAoBgB,KAAxB,CAA8BR,aAA9B,EAA6CD,MAA7C,CAAzB;;AACA,aAAKtC,OAAL,CAAuBN,QAAvB,CAAgC,eAAhC;;AACA,eAAO,KAAKM,OAAZ;AACD,OAvGH;;AAyGE;;;AAGAyB,MAAAA,QAAmB,EAAG,kBAASuB,gBAAT,EACtB;AACE,YAAG,KAAKlD,OAAR,EAAuB;AACrB,iBAAO,KAAKA,OAAZ;AACD;;AACD,YAAImD,aAAa,GAAG,IAAIrE,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAauB,MAAb,CAAoBmB,aAAxB,CAAsC,oBAAtC,CAApB;AACA,aAAKpD,OAAL,GAAqB,IAAIlB,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAauB,MAAb,CAAoBgB,KAAxB,CAA8BE,aAA9B,EAA6CD,gBAA7C,CAArB;;AACA,aAAKlD,OAAL,CAAmBJ,QAAnB,CAA4B,YAA5B;;AACA,eAAO,KAAKI,OAAZ;AACD,OArHH;;AAuHE;;;AAGAqB,MAAAA,OAAoB,EAAG,mBACvB;AACE,YAAG,KAAKlB,OAAR,EAAwB;AACtB,iBAAO,KAAKA,OAAZ;AACD;;AACD,YAAIkD,WAAW,GAAG,IAAIvE,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAagC,SAAb,CAAuBC,SAA3B,CAAqC,IAAI7D,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAakC,MAAb,CAAoBU,IAAxB,EAArC,CAAlB;AAEA,YAAIC,WAAW,GAAG,IAAIzE,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkB6C,SAAtB,EAAlB;AACAD,QAAAA,WAAW,CAACpC,WAAZ,CAAwB,SAAxB,EAAmC,UAASsC,GAAT,EAAc;AAC/C,cAAIA,GAAG,CAACC,gBAAJ,MAA0B,OAA9B,EAAuC;AACrC,iBAAKvD,OAAL,CAAoB4B,IAApB;AACD;AACF,SAJkC,CAIjC4B,IAJiC,CAI5B,IAJ4B,CAAnC;AAMA,YAAIC,YAAY,GAAG,IAAI9E,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAaC,IAAb,CAAkBO,MAAtB,CAA6B,QAA7B,CAAnB;AACA0C,QAAAA,YAAY,CAACzC,WAAb,CAAyB,KAAzB,EAAgC,YAAU;AACxC,eAAKhB,OAAL,CAAoB4B,IAApB;AACD,SAFD,EAEG,IAFH;AAIAsB,QAAAA,WAAW,CAACvC,GAAZ,CAAgByC,WAAhB;AACAF,QAAAA,WAAW,CAACvC,GAAZ,CAAgB8C,YAAhB;AAEA,aAAKzD,OAAL,GAAsB,IAAIrB,EAAE,CAAC2B,EAAH,CAAMC,MAAN,CAAauB,MAAb,CAAoBgB,KAAxB,CAA8BI,WAA9B,CAAtB;;AACA,aAAKlD,OAAL,CAAoB0D,mBAApB,CAAwC,IAAxC;;AACA,aAAK1D,OAAL,CAAoB2D,QAApB,CAA6B,IAA7B;;AACA,aAAK3D,OAAL,CAAoBP,QAApB,CAA6B,YAA7B;;AACA,eAAO,KAAKO,OAAZ;AACD,OArJH;AAwJE;AACA4D,MAAAA,KAAK,EAAG,iBAAW;AACjB,YAAI,KAAK3D,OAAT,EAAyB;AACvB,eAAKA,OAAL,CAAoB2B,IAApB;AACD;;AACD,YAAI,KAAK7B,OAAT,EAA4B;AAC1B,eAAKA,OAAL,CAAuB6B,IAAvB;AACD;;AACD,YAAI,KAAK/B,OAAT,EAAwB;AACtB,eAAKA,OAAL,CAAmB+B,IAAnB;AACD;;AACD,YAAI,KAAK5B,OAAT,EAAyB;AACvB,eAAKA,OAAL,CAAoB4B,IAApB;AACD;AACF;AAtKH;AAxBF,GADA;AA3BA1C,EAAAA,GAAG,CAACC,cAAJ,CAAmBC,IAAnB,CAAwBgC,OAAxB,CAAgCtC,aAAhC,GAAgDA,aAAhD",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2011 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Gabriel Munteanu (gabios)\n\n************************************************************************ */\n\n/* ************************************************************************\n\n\n************************************************************************ */\n/**\n * Mobile page responsible for showing the different showcases.\n *\n * @asset(qxl/mobileshowcase/icon/camera.png)\n */\nqx.Class.define(\"qxl.mobileshowcase.page.Toolbar\",\n{\n  extend : qxl.mobileshowcase.page.Abstract,\n\n\n  statics : {\n    __toolbarButtonImages: [\"qxl/mobileshowcase/icon/arrowleft.png\",\"qxl/mobileshowcase/icon/camera.png\"]\n  },\n\n\n  construct : function()\n  {\n    this.base(arguments,false);\n    this.setTitle(\"Toolbar\");\n  },\n\n\n  events :\n  {\n    /** The page to show */\n    \"show\" : \"qx.event.type.Data\"\n  },\n\n\n  members :\n  {\n\n    /**\n     * The toolbar\n     */\n    __toolbar : null,\n    __searchPopup: null,\n    __busyIndicator: null,\n    __areYouSurePopup: null,\n    __searchDialog: null,\n    __deleteDialog: null,\n    __goBackBtn: null,\n    __loadButton: null,\n\n\n    // overridden\n    _initialize : function()\n    {\n      this.base(arguments);\n\n      var label = new qx.ui.mobile.form.Title(\"Search\");\n      this.getContent().add(label);\n\n      var toolbar = this.__toolbar = new qx.ui.mobile.toolbar.ToolBar();\n      this.add(toolbar);\n\n      var searchBtn = new qx.ui.mobile.toolbar.Button(\"Search\");\n      searchBtn.addListener(\"tap\", function() {\n        var searchDialog = this.__createSearchDialog();\n        searchDialog.show();\n      }, this);\n\n      this.__goBackBtn = new qx.ui.mobile.toolbar.Button(\n        null, qxl.mobileshowcase.page.Toolbar.__toolbarButtonImages[0]\n      );\n      this.__goBackBtn.setShow(\"icon\");\n\n       this.__goBackBtn.addListener(\"tap\", function(){\n        var popup = this.__createAreYouSurePopup( this.__goBackBtn);\n        popup.show();\n      }, this);\n\n      this.__loadButton = new qx.ui.mobile.toolbar.Button(\n        null, qxl.mobileshowcase.page.Toolbar.__toolbarButtonImages[1]\n      );\n      this.__loadButton.setShow(\"icon\");\n\n      this.__loadButton.addListener(\"tap\", function(){\n        var popup = this.__createSearchPopup();\n        popup.show();\n        qx.lang.Function.delay(popup.hide, 3000, popup);\n      }, this);\n\n\n      var deleteButton = new qx.ui.mobile.toolbar.Button(\"Delete\");\n      deleteButton.addListener(\"tap\", function(){\n        this.__deleteDialog = qx.ui.mobile.dialog.Manager.getInstance().warning('Deleting', 'Are you sure?', this.__processDelete, this, [\"Yes\", \"No\"]);\n      }, this);\n\n      toolbar.add(searchBtn);\n      toolbar.add(this.__goBackBtn);\n      toolbar.add(this.__loadButton);\n      toolbar.add(deleteButton);\n    },\n\n\n    __processDelete : function(index)\n    {\n      if(index==0) {\n        this.__deleteDialog.destroy();\n      } else {\n        this.__deleteDialog.destroy();\n      }\n    },\n\n\n    /**\n     * Creates the popup widget to show when backButton is tapped\n     */\n    __createAreYouSurePopup : function(anchor)\n    {\n      if(this.__areYouSurePopup) {\n        return this.__areYouSurePopup;\n      }\n      var buttonsWidget = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.HBox());\n\n      var okButton = new qx.ui.mobile.form.Button(\"Yes\");\n      var cancelButton = new qx.ui.mobile.form.Button(\"No\");\n\n      buttonsWidget.add(okButton, {flex:1});\n      buttonsWidget.add(cancelButton, {flex:1});\n\n      okButton.addListener(\"tap\", function(){\n        this.__areYouSurePopup.hide();\n      }, this);\n\n      cancelButton.addListener(\"tap\", function(){\n        this.__areYouSurePopup.hide();\n      }, this);\n\n      this.__areYouSurePopup = new qx.ui.mobile.dialog.Popup(buttonsWidget, anchor);\n      this.__areYouSurePopup.setTitle(\"Are you sure?\");\n      return this.__areYouSurePopup;\n    },\n\n    /**\n     * Creates the popup widget to show when backButton is tapped\n     */\n    __createSearchPopup : function(attachedToWidget)\n    {\n      if(this.__searchPopup) {\n        return this.__searchPopup;\n      }\n      var busyIndicator = new qx.ui.mobile.dialog.BusyIndicator(\"Data connection...\");\n      this.__searchPopup = new qx.ui.mobile.dialog.Popup(busyIndicator, attachedToWidget);\n      this.__searchPopup.setTitle(\"Loading...\");\n      return this.__searchPopup;\n    },\n\n    /**\n     * Creates the popup widget to show when backButton is tapped\n     */\n    __createSearchDialog : function()\n    {\n      if(this.__searchDialog) {\n        return this.__searchDialog;\n      }\n      var popupWidget = new qx.ui.mobile.container.Composite(new qx.ui.mobile.layout.VBox());\n\n      var searchField = new qx.ui.mobile.form.TextField();\n      searchField.addListener(\"keydown\", function(evt) {\n        if (evt.getKeyIdentifier() == \"Enter\") {\n          this.__searchDialog.hide();\n        }\n      }.bind(this));\n\n      var searchButton = new qx.ui.mobile.form.Button(\"Search\");\n      searchButton.addListener(\"tap\", function(){\n        this.__searchDialog.hide();\n      }, this);\n\n      popupWidget.add(searchField);\n      popupWidget.add(searchButton);\n\n      this.__searchDialog = new qx.ui.mobile.dialog.Popup(popupWidget);\n      this.__searchDialog.setHideOnBlockerTap(true);\n      this.__searchDialog.setModal(true);\n      this.__searchDialog.setTitle('Search ...');\n      return this.__searchDialog;\n    },\n\n\n    // overridden\n    _stop : function() {\n      if (this.__deleteDialog) {\n        this.__deleteDialog.hide();\n      }\n      if (this.__areYouSurePopup) {\n        this.__areYouSurePopup.hide();\n      }\n      if (this.__searchPopup) {\n        this.__searchPopup.hide();\n      }\n      if (this.__searchDialog) {\n        this.__searchDialog.hide();\n      }\n    }\n  }\n});\n"
  ]
}