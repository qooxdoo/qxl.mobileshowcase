{
  "version": 3,
  "sources": [
    "/home/travis/build/qooxdoo/qxl.mobileshowcase/source/class/qxl/mobileshowcase/page/Maps.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "qxl",
    "mobileshowcase",
    "page",
    "Abstract",
    "construct",
    "setTitle",
    "bom",
    "Stylesheet",
    "includeFile",
    "_geolocationEnabled",
    "core",
    "Environment",
    "get",
    "members",
    "_mapUri",
    "_map",
    "_marker",
    "_showMyPositionButton",
    "_initialize",
    "_initGeoLocation",
    "_loadMapLibrary",
    "event",
    "Registration",
    "addListener",
    "window",
    "_redrawMap",
    "updateSize",
    "_start",
    "_createScrollContainer",
    "mapContainer",
    "ui",
    "mobile",
    "container",
    "Composite",
    "setId",
    "addCssClass",
    "_createContent",
    "navigator",
    "userAgent",
    "match",
    "menuContainer",
    "descriptionLabel",
    "basic",
    "Label",
    "toggleNavigationButton",
    "form",
    "ToggleButton",
    "Button",
    "_getGeoPosition",
    "setEnabled",
    "newNavBarState",
    "isNavigationBarHidden",
    "setNavigationBarHidden",
    "show",
    "groupPosition",
    "Group",
    "groupFullScreen",
    "add",
    "req",
    "request",
    "Script",
    "onload",
    "osmlayer",
    "ol",
    "layer",
    "Tile",
    "source",
    "OSM",
    "view",
    "View",
    "zoom",
    "minZoom",
    "maxZoom",
    "Map",
    "target",
    "layers",
    "_zoomToDefaultPosition",
    "bind",
    "open",
    "send",
    "isVisible",
    "_zoomToPosition",
    "longitude",
    "latitude",
    "showMarker",
    "fromProjection",
    "proj",
    "toProjection",
    "mapPosition",
    "getTransform",
    "getView",
    "setCenter",
    "setZoom",
    "_setMarkerOnMap",
    "map",
    "removeLayer",
    "point",
    "Feature",
    "geometry",
    "geom",
    "Point",
    "setStyle",
    "style",
    "Style",
    "image",
    "Icon",
    "src",
    "Vector",
    "features",
    "addLayer",
    "geo",
    "GeoLocation",
    "getInstance",
    "_onGeolocationSuccess",
    "_onGeolocationError",
    "position",
    "getLongitude",
    "getLatitude",
    "buttons",
    "push",
    "locale",
    "Manager",
    "tr",
    "title",
    "text",
    "dialog",
    "confirm",
    "getCurrentPosition",
    "destruct",
    "_disposeObjects",
    "Maps"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2012 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n/**\n * Mobile page showing an OpenStreetMap map.\n *\n * @ignore(ol.*)\n * @asset(qx/mobile/css/*)\n */\nqx.Class.define(\"qxl.mobileshowcase.page.Maps\",\n{\n  extend : qxl.mobileshowcase.page.Abstract,\n  construct : function()\n  {\n    this.base(arguments, false);\n    this.setTitle(\"Maps\");\n    \n    qx.bom.Stylesheet.includeFile('https://cdnjs.cloudflare.com/ajax/libs/ol3/4.6.5/ol.css');\n    this._geolocationEnabled = qx.core.Environment.get(\"html.geolocation\");\n  },\n  members :\n  {\n    _mapUri : \"https://cdnjs.cloudflare.com/ajax/libs/ol3/4.6.5/ol.js\",\n    _map : null,\n    _marker : null,\n    _geolocationEnabled : false,\n    _showMyPositionButton : null,\n\n    // overridden\n    _initialize : function()\n    {\n      this.base(arguments);\n      if (this._geolocationEnabled) {\n        this._initGeoLocation();\n      }\n      this._loadMapLibrary();\n\n      // Listens on window orientation change and resize, and triggers redraw of map.\n\n      // Needed for triggering OpenLayers to use a bigger area, and draw more tiles.\n      qx.event.Registration.addListener(window, \"orientationchange\", this._redrawMap, this);\n      qx.event.Registration.addListener(window, \"resize\", this._redrawMap, this);\n    },\n\n    /**\n     * Calls a redraw on Mapnik Layer. Needed after orientationChange event\n     * and drawing markers.\n     */\n    _redrawMap : function() {\n      if (this._map !== null) {\n        this._map.updateSize();\n      }\n    },\n    \n    // overridden\n    _start : function()\n    {\n        this._redrawMap();\n    },\n\n    // overridden\n    _createScrollContainer : function()\n    {\n      // MapContainer\n      // Do not use any layout manager  - otherwise the map will not be\n      // displayed with safari browsers.\n      var mapContainer = new qx.ui.mobile.container.Composite();\n      mapContainer.setId(\"map\");\n      mapContainer.addCssClass(\"map\");\n      return mapContainer;\n    },\n\n    // overridden\n    _createContent : function()\n    {\n      // Disable menu for Windows Phone 8.\n      if (navigator.userAgent.match(/IEMobile\\/10\\.0/)) {\n        return null;\n      }\n      var menuContainer = new qx.ui.mobile.container.Composite();\n      menuContainer.setId(\"mapMenu\");\n\n      // LABEL\n      var descriptionLabel = new qx.ui.mobile.basic.Label(\"Page Title\");\n      descriptionLabel.addCssClass(\"osmMapLabel\");\n\n      // TOGGLE BUTTON\n      var toggleNavigationButton = new qx.ui.mobile.form.ToggleButton(true, \"ON\", \"OFF\");\n\n      // SHOW MY POSITION BUTTON\n      this._showMyPositionButton = new qx.ui.mobile.form.Button(\"Find me!\");\n      this._showMyPositionButton.addListener(\"tap\", this._getGeoPosition, this);\n\n      // Button is disabled when Geolocation is not available.\n      this._showMyPositionButton.setEnabled(this._geolocationEnabled);\n      toggleNavigationButton.addListener(\"changeValue\", function()\n      {\n        var newNavBarState = !this.isNavigationBarHidden();\n        this.setNavigationBarHidden(newNavBarState);\n        this.show();\n      }, this);\n      var groupPosition = new qx.ui.mobile.form.Group([this._showMyPositionButton], false);\n      var groupFullScreen = new qx.ui.mobile.form.Group([descriptionLabel, toggleNavigationButton], true);\n      this._showMyPositionButton.addCssClass(\"map-shadow\");\n      groupFullScreen.addCssClass(\"map-shadow\");\n      menuContainer.add(groupFullScreen);\n      menuContainer.add(groupPosition);\n      return menuContainer;\n    },\n\n    /**\n     * Loads JavaScript library which is needed for the map.\n     */\n    _loadMapLibrary : function()\n    {\n      var req = new qx.bom.request.Script();\n      req.onload = function()\n      {\n        var osmlayer = new ol.layer.Tile( {\n          source : new ol.source.OSM()\n        });\n        var view = new ol.View(\n        {\n          zoom : 10,\n          minZoom : 2,\n          maxZoom : 19\n        })\n\n        this._map = new ol.Map(\n        {\n          target : 'map',\n          layers : [osmlayer],\n          view : view\n        });\n        this._zoomToDefaultPosition();\n      }.bind(this);\n      req.open(\"GET\", this._mapUri);\n      req.send();\n    },\n\n    /**\n     * Zooms the map to a default position.\n     * In this case: Berlin, Germany.\n     */\n    _zoomToDefaultPosition : function() {\n      if (this.isVisible()) {\n        this._zoomToPosition(13.41, 52.52, 15);\n      }\n    },\n\n    /**\n     * Zooms the map to a  position.\n     * @param longitude {Number} the longitude of the position.\n     * @param latitude {Number} the latitude of the position.\n     * @param zoom {Integer} zoom level.\n     * @param showMarker {Boolean} if a marker should be drawn at the defined position.\n     */\n    _zoomToPosition : function(longitude, latitude, zoom, showMarker)\n    {\n      if (!this._map) {\n        return;\n      }\n      var fromProjection = ol.proj.get(\"EPSG:4326\");\n      var toProjection = ol.proj.get(\"EPSG:900913\");\n      var mapPosition = ol.proj.getTransform(fromProjection, toProjection)([longitude, latitude]);\n      this._map.getView().setCenter(mapPosition);\n      this._map.getView().setZoom(zoom);\n      this._setMarkerOnMap(this._map, mapPosition, showMarker);\n    },\n\n    /**\n     * Draws a marker on the OSM map.\n     * @param map {Object} the map object.\n     * @param mapPosition {Map} the map position.\n     * @param showMarker {Boolean} if a marker should be drawn at the defined position.\n     */\n    _setMarkerOnMap : function(map, mapPosition, showMarker)\n    {\n      if (this._marker)\n      {\n        map.removeLayer(this._marker);\n        this._marker = null;\n      }\n      if (showMarker === true)\n      {\n        var point = new ol.Feature( {\n          geometry : new ol.geom.Point(mapPosition)\n        });\n        point.setStyle(new ol.style.Style( {\n          image : new ol.style.Icon( {\n            src : 'http://www.openlayers.org/api/img/marker.png'\n          })\n        }));\n        this._marker = new ol.layer.Vector( {\n          source : new ol.source.Vector( {\n            features : [point]\n          })\n        });\n        map.addLayer(this._marker);\n      }\n    },\n\n    /**\n     * Prepares qooxdoo GeoLocation and installs needed listeners.\n     */\n    _initGeoLocation : function()\n    {\n      var geo = qx.bom.GeoLocation.getInstance();\n      geo.addListener(\"position\", this._onGeolocationSuccess, this);\n      geo.addListener(\"error\", this._onGeolocationError, this);\n    },\n\n    /**\n     * Callback function when Geolocation did work.\n     */\n    _onGeolocationSuccess : function(position)\n    {\n      this._zoomToPosition(position.getLongitude(), position.getLatitude(), 15, true);\n      this._redrawMap();\n    },\n\n    /**\n     * Callback function when Geolocation returned an error.\n     */\n    _onGeolocationError : function()\n    {\n      this._showMyPositionButton.setEnabled(false);\n      var buttons = [];\n      buttons.push(qx.locale.Manager.tr(\"OK\"));\n      var title = \"Problem with Geolocation\";\n      var text = \"Please activate location services on your browser and device.\";\n      qx.ui.mobile.dialog.Manager.getInstance().confirm(title, text, function() {\n      }, this, buttons);\n    },\n\n    /**\n     * Retreives GeoPosition out of qx.bom.Geolocation and zooms to this point on map.\n     */\n    _getGeoPosition : function()\n    {\n      var geo = qx.bom.GeoLocation.getInstance();\n      geo.getCurrentPosition(false, 1000, 1000);\n    },\n    destruct : function() {\n      this._disposeObjects(\"_mapUri\", \"_map\", \"_marker\", \"_showMyPositionButton\");\n    }\n  }\n});\n"
  ]
}