{
  "version": 3,
  "sources": [
    "/home/travis/build/qooxdoo/qxl.mobileshowcase/source/class/qxl/mobileshowcase/page/List.js"
  ],
  "names": [
    "qx",
    "Bootstrap",
    "executePendingDefers",
    "$$dbClassInfo",
    "Class",
    "define",
    "extend",
    "qxl",
    "mobileshowcase",
    "page",
    "Abstract",
    "construct",
    "setTitle",
    "members",
    "_model",
    "_scrollContainer",
    "_waypointsY",
    "_waypointsLabel",
    "_loadingIndicator",
    "_isLoading",
    "_initialize",
    "bom",
    "element",
    "Style",
    "set",
    "getContent",
    "getContentElement",
    "ui",
    "mobile",
    "dialog",
    "BusyIndicator",
    "exclude",
    "addCssClass",
    "add",
    "container",
    "Composite",
    "scrollContainer",
    "_getScrollContainer",
    "setWaypointsY",
    "addListener",
    "_onWaypoint",
    "_createModel",
    "list",
    "List",
    "configureItem",
    "item",
    "data",
    "row",
    "setImage",
    "image",
    "title",
    "setSubtitle",
    "subtitle",
    "setSelectable",
    "selectable",
    "setShowArrow",
    "setRemovable",
    "removable",
    "configureGroupItem",
    "group",
    "setModel",
    "evt",
    "_showDialog",
    "getData",
    "removeAt",
    "targetElement",
    "index",
    "direction",
    "Animation",
    "animate",
    "Attribute",
    "_loadMoreModelItems",
    "i",
    "push",
    "Array",
    "initialModelLength",
    "length",
    "show",
    "setTimeout",
    "refresh",
    "bind",
    "text",
    "Manager",
    "getInstance",
    "confirm"
  ],
  "mappings": "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",
  "sourcesContent": [
    "/* ************************************************************************\n\n   qooxdoo - the new era of web development\n\n   http://qooxdoo.org\n\n   Copyright:\n     2004-2014 1&1 Internet AG, Germany, http://www.1und1.de\n\n   License:\n     MIT: https://opensource.org/licenses/MIT\n     See the LICENSE file in the project's top-level directory for details.\n\n   Authors:\n     * Tino Butz (tbtz)\n     * Christopher Zuendorf (czuendorf)\n\n************************************************************************ */\n\n/**\n * Mobile page for showing the \"list\" showcase.\n */\nqx.Class.define(\"qxl.mobileshowcase.page.List\",\n{\n  extend : qxl.mobileshowcase.page.Abstract,\n\n\n  construct : function()\n  {\n    this.base(arguments);\n    this.setTitle(\"List\");\n  },\n\n\n  members :\n  {\n    _model: null,\n    _scrollContainer : null,\n    _waypointsY: null,\n    _waypointsLabel : null,\n    _loadingIndicator: null,\n    _isLoading: false,\n\n\n    /**\n     * @lint ignoreDeprecated(alert)\n     */\n    _initialize: function() {\n      this.base(arguments);\n\n      this._waypointsY = [\"0%\", \"25%\", \"50%\", \"75%\", \"100%\", 200];\n\n      qx.bom.element.Style.set(this.getContent().getContentElement(), \"position\", \"relative\");\n\n      this._loadingIndicator = new qx.ui.mobile.dialog.BusyIndicator(\"Loading more items ...\");\n      this._loadingIndicator.exclude();\n      this._loadingIndicator.addCssClass(\"waypoint-loading-indicator\");\n      this.add(this._loadingIndicator);\n\n      this._waypointsLabel = new qx.ui.mobile.container.Composite();\n      this._waypointsLabel.addCssClass(\"waypoint-info\");\n      this.add(this._waypointsLabel);\n\n      var scrollContainer = this._scrollContainer = this._getScrollContainer();\n      scrollContainer.setWaypointsY(this._waypointsY);\n      scrollContainer.addListener(\"waypoint\", this._onWaypoint, this);\n\n      this._model = this._createModel();\n\n      var list = new qx.ui.mobile.list.List({\n        configureItem: function(item, data, row) {\n          item.setImage(data.image);\n          item.setTitle(data.title);\n          item.setSubtitle(data.subtitle);\n          item.setSelectable(data.selectable);\n          item.setShowArrow(data.selectable);\n          item.setRemovable(data.removable);\n        },\n\n        configureGroupItem: function(item, data, group) {\n          item.setTitle(\"#\" + group + \" \" + data.title);\n          item.setSelectable(true);\n        },\n\n        group: function(data, row) {\n          var title = \"Items\";\n          if (data.selectable) {\n            title = \"Selectable Items\";\n          } else if (data.removable) {\n            title = \"Removable Items\";\n          }\n          return {\n            title: title\n          };\n        }\n      });\n\n      list.setModel(this._model);\n\n      list.addListener(\"changeSelection\", function(evt) {\n        this._showDialog(\"You selected Item #\" + evt.getData());\n      }, this);\n\n      list.addListener(\"changeGroupSelection\", function(evt) {\n        this._showDialog(\"You selected Group #\" + evt.getData());\n      }, this);\n\n      list.addListener(\"removeItem\", function(evt) {\n       this._model.removeAt(evt.getData());\n      }, this);\n\n      this.getContent().add(list);\n    },\n\n\n    /**\n    * Handler for <code>waypoint</code> event on scrollContainer.\n    * @param evt {qx.event.type.Data} the waypoint event.\n    */\n    _onWaypoint : function(evt) {\n      var targetElement = this._waypointsLabel.getContentElement();\n      var index = evt.getData().index;\n      var direction = evt.getData().direction;\n\n      qx.bom.element.Animation.animate(targetElement, {\n        \"duration\": 1000,\n        \"keep\": 100,\n        \"keyFrames\": {\n          0: {\n            \"opacity\": 0\n          },\n          10: {\n            \"opacity\": 1\n          },\n          80: {\n            \"opacity\": 1\n          },\n          100: {\n            \"opacity\": 0\n          }\n        }\n      });\n\n      qx.bom.element.Attribute.set(targetElement, \"data-waypoint-label\", this._waypointsY[index]+ \" [\"+direction+\"]\");\n\n      // 100% waypoint\n      if (index == 4) {\n        this._loadMoreModelItems();\n      }\n    },\n\n\n     /**\n     * Creates the model with the example data.\n     * @return {qx.data.Array} data array.\n     */\n    _createModel: function() {\n      var data = [];\n      for (var i = 0; i < 30; i++) {\n        data.push({\n          title: \"Item #\" + i,\n          subtitle: \"Subtitle for Item #\" + i,\n          image: \"qxl/mobileshowcase/icon/internet-mail.png\",\n          selectable: i < 6,\n          removable: i > 5 && i < 11\n        });\n      }\n      return new qx.data.Array(data);\n    },\n\n\n    /**\n    * Adds more items to the list.\n    * Simulates infinite scrolling.\n    */\n    _loadMoreModelItems: function() {\n      var initialModelLength = this._model.length;\n\n      if(this._isLoading || initialModelLength > 200) {\n        return;\n      }\n\n      this._loadingIndicator.show();\n      this._isLoading = true;\n\n      setTimeout(function() {\n        for (var i = 0; i < 20; i++) {\n          this._model.push({\n            title: \"Item #\" + (initialModelLength + i),\n            subtitle: \"Subtitle for Item #\" + (initialModelLength + i),\n            image: \"qxl/mobileshowcase/icon/internet-mail.png\",\n            selectable: false,\n            removable: false\n          });\n        }\n\n        this._loadingIndicator.exclude();\n        this._isLoading = false;\n\n        this._scrollContainer.refresh();\n      }.bind(this), 2000);\n    },\n\n\n    /**\n     * Displays a confirm dialog with the passed text.\n     * @param text {String} text to display.\n     */\n    _showDialog: function(text) {\n      qx.ui.mobile.dialog.Manager.getInstance().confirm(\"Selection\", text, null, this, [\"OK\"]);\n    }\n  }\n});"
  ]
}